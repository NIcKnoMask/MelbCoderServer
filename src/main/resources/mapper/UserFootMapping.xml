<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN"
        "http//mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.unimelbCoder.melbcode.models.dao.UserFootDao">
    <select id="getUserFootByDocumentAndUserId" resultType="com.unimelbCoder.melbcode.bean.UserFoot">
        SELECT * FROM user_foot WHERE
        user_id=#{userId} AND document_id=#{documentId} AND document_type=#{documentType}
    </select>
    <select id="countArticleByUserId" resultType="com.unimelbCoder.melbcode.bean.UserFoot">
        SELECT * FROM user_foot WHERE document_user_id=#{userId} AND document_type=1
    </select>
    <select id="countCommentPraise" resultType="Integer">
        SELECT COUNT(id) FROM user_foot WHERE document_id=#{documentId} AND document_type=2 AND praise_stat=1
    </select>
    <insert id="createUserFoot" parameterType="com.unimelbCoder.melbcode.bean.UserFoot">
        INSERT INTO user_foot (user_id, document_id, document_type, document_user_id)
        VALUES (#{userId}, #{documentId}, #{documentType}, #{authorId});
    </insert>
    <update id="updateUserFootById" parameterType="com.unimelbCoder.melbcode.bean.UserFoot">
        UPDATE user_foot SET user_id=#{userFoot.getUserId()}, update_time=#{updateTime}
    </update>
</mapper>